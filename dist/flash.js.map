{"version":3,"sources":["webpack:///webpack/bootstrap 9db9cec0542bb1e88989","webpack:///./src/index.js","webpack:///./src/ajax.coffee","webpack:///./src/view.coffee","webpack:///./src/micro-template.js","webpack:///./src/backbone.nativeview.js"],"names":[],"mappings":"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","file":"flash.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9db9cec0542bb1e88989\n **/","let ajax = require(\"./ajax.coffee\")\n// console.log(\"ajax\",ajax)\nlet View = require(\"./view.coffee\")\n\nlet {template, escape} = View\nmodule.exports = window.Flash = {ajax, View, template, escape}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","# Based on https://gist.github.com/azproduction/1625623\ndo ->\n    `var ajax = function(\n      m, // method - get, post, whatever\n      u, // url\n      d, // [post_data]\n      c, // [callback] if passed -> asych call\n      x\n    ){\n        with(x=new XMLHttpRequest)\n            return onreadystatechange=function(){ // filter only readyState=4 events\n                readyState^4||c.bind(this)(this.responseText) // if callback passed and readyState == 4 than trigger Callback with xhr object\n            },\n            open(m,u,c), // open connection with Method and Url and asyCh flag\n            send(d), // send Data\n            x\n    }`\n\n    ajax.get = ()-> ajax(\"GET\", arguments...)\n    ajax.post = ()-> ajax(\"POST\", arguments...)\n    module.exports = ajax\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ajax.coffee\n **/","# minimal backbone like view with events and template\n\ndo ->\n    _extend = (obj,objs...)->\n        while o = objs.shift()\n            obj[k] = o[k] for k of o\n        return obj\n\n    delegateEventSplitter = /^(\\S+)\\s*(.*)$/\n\n    class View\n        constructor:(options={})->\n            @el = options.el\n            @delegateEvents(@events or {})\n            # @$el = $(o.el)\n            @initialize?()\n        remove: ()->\n            @undelegateEvents()\n            @el.parentNode.removeChild(@el)\n        $: (selector)->\n            @el.querySelectorAll(selector)\n        delegateEvents: `function(events) {\n          if (!events) return this;\n          this.undelegateEvents();\n          for (var key in events) {\n            var method = events[key];\n            if (!typeof(method)==\"function\") method = this[method];\n            if (!method) continue;\n            var match = key.match(delegateEventSplitter);\n            this.delegate(match[1], match[2], method.bind(this));\n          }\n          return this;\n        }`\n        undelegateEvents: `function() {\n          if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n          return this;\n        }`\n    View.extend = (props,statics)->\n        class NewClass extends @\n        _extend NewClass.prototype,props\n        _extend NewClass, statics\n        return NewClass\n\n    # View.microTemplate = mt = require(\"micro-template\")\n    View.template = tmpl =  require(\"./micro-template.js\")\n    View.escape = tmpl.escape\n    # console.log(View.template)\n\n    NativeView = require(\"./backbone.nativeview\")({View})\n\n    module.exports = NativeView\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/view.coffee\n **/","// based on JR's micro template http://ejohn.org/blog/javascript-micro-templating/\nmodule.exports = (function(){\n  var map  = { '&' : '&amp;', '<' : '&lt;', '>' : '&gt;', '\\x22' : '&#x22;', '\\x27' : '&#x27;' };\n  var ctx = {}\n  ctx.escape = function(string) {\n      return (''+string).replace(/[&<>\\'\\\"]/g, function (_) { return map[_] }) };\n\n  var cache = {};\n\n  ctx.tmpl = function tmpl(str, data){\n    // Figure out if we're getting a template, or if we need to\n    // load the template - and be sure to cache the result.\n    var fn = !/\\W/.test(str) ?\n      cache[str] = cache[str] ||\n        tmpl(document.getElementById(str).innerHTML) :\n\n      // Generate a reusable function that will serve as a template\n      // generator (and which will be cached).\n      new Function(\"obj\",\n        \"var p=[],print=function(){p.push.apply(p,arguments);};\" +\n\n        // Introduce the data as local variables using with(){}\n        \"with(obj){p.push('\" +\n\n        // Convert the template into pure JavaScript\n        str\n          .replace(/[\\r\\t\\n]/g, \" \")\n          .split(\"<%\").join(\"\\t\")\n          .replace(/((^|%>)[^\\t]*)'/g, \"$1\\r\")\n          .replace(/\\t=(.*?)%>/g, \"',$1,'\")\n          .replace(/\\t-(.*?)%>/g, \"',this.escape($1),'\")\n          .split(\"\\t\").join(\"');\")\n          .split(\"%>\").join(\"p.push('\")\n          .split(\"\\r\").join(\"\\\\'\")\n      + \"');}return p.join('');\");\n\n    fn = fn.bind(ctx);\n    // Provide some basic currying to the user\n    return data ? fn( data ) : fn;\n  };\n  ctx.tmpl.escape = ctx.escape\n  return ctx.tmpl;\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/micro-template.js\n **/","//\n// forked from [Backbone.NativeView](https://github.com/akre54/Backbone.NativeView)\n\nmodule.exports = function (Backbone) {\n  // Cached regex to match an opening '<' of an HTML tag, possibly left-padded\n  // with whitespace.\n  var paddedLt = /^\\s*</;\n\n  // Caches a local reference to `Element.prototype` for faster access.\n  var ElementProto = (typeof Element !== 'undefined' && Element.prototype) || {};\n\n  // Cross-browser event listener shims\n  var elementAddEventListener = ElementProto.addEventListener || function(eventName, listener) {\n    return this.attachEvent('on' + eventName, listener);\n  }\n  var elementRemoveEventListener = ElementProto.removeEventListener || function(eventName, listener) {\n    return this.detachEvent('on' + eventName, listener);\n  }\n\n  var indexOf = function(array, item) {\n    for (var i = 0, len = array.length; i < len; i++) if (array[i] === item) return i;\n    return -1;\n  }\n\n  // Find the right `Element#matches` for IE>=9 and modern browsers.\n  var matchesSelector = ElementProto.matches ||\n      ElementProto.webkitMatchesSelector ||\n      ElementProto.mozMatchesSelector ||\n      ElementProto.msMatchesSelector ||\n      ElementProto.oMatchesSelector ||\n      // Make our own `Element#matches` for IE8\n      function(selector) {\n        // Use querySelectorAll to find all elements matching the selector,\n        // then check if the given element is included in that list.\n        // Executing the query on the parentNode reduces the resulting nodeList,\n        // (document doesn't have a parentNode).\n        var nodeList = (this.parentNode || document).querySelectorAll(selector) || [];\n        return ~indexOf(nodeList, this);\n      };\n\n  // Cache Backbone.View for later access in constructor\n  var BBView = Backbone.View;\n\n  // To extend an existing view to use native methods, extend the View prototype\n  // with the mixin: _.extend(MyView.prototype, Backbone.NativeViewMixin);\n  Backbone.NativeViewMixin = {\n\n    _domEvents: null,\n\n    constructor: function() {\n      this._domEvents = [];\n      return BBView.apply(this, arguments);\n    },\n\n    $: function(selector) {\n      return this.el.querySelectorAll(selector);\n    },\n\n    _removeElement: function() {\n      this.undelegateEvents();\n      if (this.el.parentNode) this.el.parentNode.removeChild(this.el);\n    },\n\n    // Apply the `element` to the view. `element` can be a CSS selector,\n    // a string of HTML, or an Element node. If passed a NodeList or CSS\n    // selector, uses just the first match.\n    _setElement: function(element) {\n      if (typeof element == 'string') {\n        if (paddedLt.test(element)) {\n          var el = document.createElement('div');\n          el.innerHTML = element;\n          this.el = el.firstChild;\n        } else {\n          this.el = document.querySelector(element);\n        }\n      } else if (element && element.length) {\n        this.el = element[0];\n      } else {\n        this.el = element;\n      }\n    },\n\n    // Set a hash of attributes to the view's `el`. We use the \"prop\" version\n    // if available, falling back to `setAttribute` for the catch-all.\n    _setAttributes: function(attrs) {\n      for (var attr in attrs) {\n        attr in this.el ? this.el[attr] = attrs[attr] : this.el.setAttribute(attr, attrs[attr]);\n      }\n    },\n\n    // Make a event delegation handler for the given `eventName` and `selector`\n    // and attach it to `this.el`.\n    // If selector is empty, the listener will be bound to `this.el`. If not, a\n    // new handler that will recursively traverse up the event target's DOM\n    // hierarchy looking for a node that matches the selector. If one is found,\n    // the event's `delegateTarget` property is set to it and the return the\n    // result of calling bound `listener` with the parameters given to the\n    // handler.\n    delegate: function(eventName, selector, listener) {\n      if (typeof selector === 'function') {\n        listener = selector;\n        selector = null;\n      }\n\n      var root = this.el;\n      var handler = selector ? function (e) {\n        var node = e.target || e.srcElement;\n        for (; node && node != root; node = node.parentNode) {\n          if (matchesSelector.call(node, selector)) {\n            e.delegateTarget = node;\n            listener(e);\n          }\n        }\n      } : listener;\n\n      elementAddEventListener.call(this.el, eventName, handler, false);\n      this._domEvents.push({eventName: eventName, handler: handler, listener: listener, selector: selector});\n      return handler;\n    },\n\n    // Remove a single delegated event. Either `eventName` or `selector` must\n    // be included, `selector` and `listener` are optional.\n    undelegate: function(eventName, selector, listener) {\n      if (typeof selector === 'function') {\n        listener = selector;\n        selector = null;\n      }\n\n      if (this.el) {\n        var handlers = this._domEvents.slice();\n        var i = handlers.length;\n        while (i--) {\n          var item = handlers[i];\n\n          var match = item.eventName === eventName &&\n              (listener ? item.listener === listener : true) &&\n              (selector ? item.selector === selector : true);\n\n          if (!match) continue;\n\n          elementRemoveEventListener.call(this.el, item.eventName, item.handler, false);\n          this._domEvents.splice(i, 1);\n        }\n      }\n      return this;\n    },\n\n    // Remove all events created with `delegate` from `el`\n    undelegateEvents: function() {\n      if (this.el) {\n        for (var i = 0, len = this._domEvents.length; i < len; i++) {\n          var item = this._domEvents[i];\n          elementRemoveEventListener.call(this.el, item.eventName, item.handler, false);\n        };\n        this._domEvents.length = 0;\n      }\n      return this;\n    }\n  };\n\n  Backbone.NativeView = Backbone.View.extend(Backbone.NativeViewMixin);\n\n  return Backbone.NativeView;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/backbone.nativeview.js\n **/"],"sourceRoot":""}